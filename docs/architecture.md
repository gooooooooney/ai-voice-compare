# AIè¯­éŸ³å¯¹æ¯”å·¥å…· Fullstackæ¶æ„æ–‡æ¡£

## å¼•è¨€

æœ¬æ–‡æ¡£ä¸ºAIè¯­éŸ³å¯¹æ¯”å·¥å…·å®šä¹‰äº†å®Œæ•´çš„å…¨æ ˆæ¶æ„ï¼Œæ¶µç›–å‰ç«¯å®ç°ã€APIé›†æˆå’Œéƒ¨ç½²ç­–ç•¥ã€‚è¯¥å·¥å…·ä¸“é—¨ç”¨äºå®æ—¶å¯¹æ¯”Deepgramå’ŒAssemblyAIè¯­éŸ³è½¬æ–‡å­—APIçš„æ€§èƒ½ã€‚

### èµ·å§‹æ¨¡æ¿æˆ–ç°æœ‰é¡¹ç›®

**å†³å®š**: ç»¿åœ°é¡¹ç›® - è‡ªå®šä¹‰è½»é‡çº§é¡¹ç›®ç»“æ„

åŸºäºPRDæ˜ç¡®è¦æ±‚ä½¿ç”¨"åŸç”ŸJavaScript (ES6+) + Web APIs"ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸ä½¿ç”¨æ¡†æ¶èµ·å§‹æ¨¡æ¿ï¼Œè€Œæ˜¯åˆ›å»ºè‡ªå®šä¹‰çš„è½»é‡çº§é¡¹ç›®ç»“æ„ã€‚è¿™ç§é€‰æ‹©ç¬¦åˆå¿«é€Ÿäº¤ä»˜å’Œä¿æŒè½»é‡çº§çš„è¦æ±‚ã€‚

### å˜æ›´æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | æè¿° | ä½œè€… |
|------|------|------|------|
| 2025-01-22 | v1.0 | åŸºäºPRD v1.0å’ŒUXè®¾è®¡åˆ›å»ºåˆå§‹æ¶æ„æ–‡æ¡£ | Winston (Architect) |

## é«˜å±‚æ¶æ„

### æŠ€æœ¯æ¦‚è¿°

æœ¬AIè¯­éŸ³å¯¹æ¯”å·¥å…·é‡‡ç”¨ç°ä»£åŒ–çš„çº¯å‰ç«¯å•é¡µåº”ç”¨æ¶æ„ï¼Œé€šè¿‡åŸç”ŸJavaScriptå’ŒWeb APIsç›´æ¥è¿æ¥Deepgramå’ŒAssemblyAIçš„å®æ—¶è¯­éŸ³è½¬å½•æœåŠ¡ã€‚åº”ç”¨é‡‡ç”¨æ¨¡å—åŒ–ES6+æ¶æ„ï¼Œåˆ©ç”¨å®˜æ–¹SDKå¤„ç†WebSocketé€šä¿¡ï¼Œé€šè¿‡MediaRecorder APIæ•è·éŸ³é¢‘æµï¼Œå¹¶å®ç°ç²¾ç¡®çš„æ€§èƒ½æŒ‡æ ‡æµ‹é‡ç³»ç»Ÿã€‚æ•´ä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨é™æ€æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡HTTPSç¡®ä¿å®‰å…¨çš„éº¦å…‹é£è®¿é—®ï¼ŒåŒæ—¶æä¾›å“åº”å¼çš„åŒé¢æ¿å¯¹æ¯”ç•Œé¢ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿåœ¨2åˆ†é’Ÿå†…å®Œæˆå®Œæ•´çš„APIæ€§èƒ½è¯„ä¼°ã€‚

### å¹³å°å’ŒåŸºç¡€è®¾æ–½é€‰æ‹©

**å¹³å°:** ç›´æ¥IPæœåŠ¡å™¨éƒ¨ç½²  
**å…³é”®æœåŠ¡:** é™æ€æ–‡ä»¶æœåŠ¡ã€HTTPSæ”¯æŒ  
**éƒ¨ç½²ä¸»æœºå’ŒåŒºåŸŸ:** ç”¨æˆ·è‡ªæœ‰æœåŠ¡å™¨

**é€‰æ‹©ç†ç”±:**
- å®Œå…¨æ§åˆ¶éƒ¨ç½²ç¯å¢ƒ
- æ— ç¬¬ä¸‰æ–¹æœåŠ¡ä¾èµ–
- æˆæœ¬å¯æ§ï¼Œä½¿ç”¨ç°æœ‰æœåŠ¡å™¨èµ„æº
- ç®€å•ç›´æ¥çš„éƒ¨ç½²æµç¨‹

### ä»“åº“ç»“æ„

**ç»“æ„:** å•ä»“åº“ (Single Repository)  
**Monorepoå·¥å…·:** ä¸é€‚ç”¨ - é¡¹ç›®è§„æ¨¡è¾ƒå°ï¼Œä½¿ç”¨æ ‡å‡†æ–‡ä»¶ç»„ç»‡  
**åŒ…ç»„ç»‡:** æ‰å¹³åŒ–ç»“æ„ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡

### é«˜å±‚æ¶æ„å›¾

```mermaid
graph TB
    User[ğŸ‘¤ ç”¨æˆ·æµè§ˆå™¨]
    
    subgraph "é™æ€æœåŠ¡å™¨"
        Server[ğŸ–¥ï¸ IPæœåŠ¡å™¨]
        Files[ğŸ“ é™æ€æ–‡ä»¶<br/>HTML/CSS/JS]
    end
    
    subgraph "å®¢æˆ·ç«¯åº”ç”¨"
        App[ğŸ¯ AIè¯­éŸ³å¯¹æ¯”å·¥å…·]
        Audio[ğŸ¤ MediaRecorder API]
        DGSDK[ğŸ“¦ Deepgram SDK<br/>è‡ªåŠ¨WebSocketç®¡ç†]
        AISDK[ğŸ“¦ AssemblyAI SDK<br/>è‡ªåŠ¨è¿æ¥ç®¡ç†]
        Metrics[ğŸ“Š æ€§èƒ½æµ‹é‡]
    end
    
    subgraph "å¤–éƒ¨APIæœåŠ¡"
        DG[ğŸŸ¦ Deepgram API]
        AI[ğŸŸ  AssemblyAI API]
    end
    
    User -->|HTTPè®¿é—®| Server
    Server --> Files
    Files --> App
    
    App --> Audio
    Audio -->|éŸ³é¢‘æµ| DGSDK
    Audio -->|éŸ³é¢‘æµ| AISDK
    
    DGSDK <-->|SDKå¤„ç†çš„è¿æ¥| DG
    AISDK <-->|SDKå¤„ç†çš„è¿æ¥| AI
    
    DG -->|è½¬å½•ç»“æœ| Metrics
    AI -->|è½¬å½•ç»“æœ| Metrics
```

### æ¶æ„æ¨¡å¼

- **Jamstackæ¶æ„:** é™æ€ç«™ç‚¹ä¸å®¢æˆ·ç«¯APIè°ƒç”¨ - _ç†ç”±:_ æœ€ä¼˜çš„æ€§èƒ½å’Œç®€å•æ€§ï¼Œç¬¦åˆçº¯å‰ç«¯éœ€æ±‚
- **æ¨¡å—æ¨¡å¼:** ES6æ¨¡å—åŒ–ç»„ä»¶æ¶æ„ - _ç†ç”±:_ ä»£ç ç»„ç»‡æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤
- **è§‚å¯Ÿè€…æ¨¡å¼:** äº‹ä»¶é©±åŠ¨çš„çŠ¶æ€ç®¡ç† - _ç†ç”±:_ å®æ—¶æ•°æ®æµéœ€è¦å“åº”å¼æ›´æ–°
- **ç­–ç•¥æ¨¡å¼:** å¯æ’æ‹”çš„APIé€‚é…å™¨ - _ç†ç”±:_ æ”¯æŒä¸åŒAPIçš„ç»Ÿä¸€æ¥å£
- **å¤–è§‚æ¨¡å¼:** å¤æ‚APIé€šä¿¡çš„ç®€åŒ–æ¥å£ - _ç†ç”±:_ éšè—SDKå¤æ‚æ€§ï¼Œæä¾›ç»Ÿä¸€çš„è°ƒç”¨æ¥å£

## æŠ€æœ¯æ ˆ

### æŠ€æœ¯æ ˆè¡¨

| ç±»åˆ« | æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰æ‹©ç†ç”± |
|------|------|------|------|----------|
| å‰ç«¯è¯­è¨€ | JavaScript | ES2022+ | å®¢æˆ·ç«¯é€»è¾‘å’ŒDOMæ“ä½œ | åŸç”ŸJSç¬¦åˆPRDè½»é‡çº§è¦æ±‚ï¼ŒES2022+æä¾›ç°ä»£è¯­æ³•æ”¯æŒ |
| å‰ç«¯æ¡†æ¶ | Vanilla JS | Latest | æ— æ¡†æ¶çº¯åŸç”Ÿå¼€å‘ | PRDæ˜ç¡®è¦æ±‚é¿å…å¤§å‹æ¡†æ¶ï¼Œä¿æŒè½»é‡çº§ |
| UIç»„ä»¶åº“ | Custom CSS + Components | 1.0 | è‡ªå®šä¹‰ç»„ä»¶ç³»ç»Ÿ | åŸºäºUXè®¾è®¡çš„å®šåˆ¶ç»„ä»¶ï¼Œå®Œå…¨æ§åˆ¶æ ·å¼å’Œè¡Œä¸º |
| çŠ¶æ€ç®¡ç† | Event-driven Classes | Native | åº”ç”¨çŠ¶æ€å’Œæ•°æ®æµç®¡ç† | åŸç”Ÿäº‹ä»¶ç³»ç»Ÿè¶³å¤Ÿå¤„ç†å®æ—¶æ•°æ®æµï¼Œæ— éœ€å¤–éƒ¨åº“ |
| éŸ³é¢‘å¤„ç† | MediaRecorder API | Native | æµè§ˆå™¨éŸ³é¢‘æ•è· | æ ‡å‡†Web APIï¼Œè·¨æµè§ˆå™¨å…¼å®¹ï¼Œç¬¦åˆPRDéŸ³é¢‘éœ€æ±‚ |
| Deepgramé›†æˆ | @deepgram/sdk | Latest | å®æ—¶è¯­éŸ³è½¬å½• | å®˜æ–¹SDKå¤„ç†æ‰€æœ‰WebSocketè¿æ¥å’Œåè®®ç»†èŠ‚ |
| AssemblyAIé›†æˆ | assemblyai | Latest | å®æ—¶è¯­éŸ³è½¬å½• | å®˜æ–¹SDKç®€åŒ–é›†æˆï¼Œå¤„ç†è¿æ¥ç®¡ç† |
| CSSæ¡†æ¶ | CSS3 + Custom Properties | Native | æ ·å¼å’Œå“åº”å¼å¸ƒå±€ | CSSå˜é‡å’ŒGrid/Flexboxæ»¡è¶³UXè®¾è®¡éœ€æ±‚ |
| ç‰ˆæœ¬æ§åˆ¶ | Git | Latest | æºä»£ç ç‰ˆæœ¬æ§åˆ¶ | è¡Œä¸šæ ‡å‡† |
| éƒ¨ç½² | é™æ€æ–‡ä»¶æœåŠ¡å™¨ | Latest | ç›´æ¥IPéƒ¨ç½² | ç®€å•ç›´æ¥ï¼Œç”¨æˆ·å®Œå…¨æ§åˆ¶ |
| HTTPS/SSL | æœåŠ¡å™¨é…ç½® | Auto | å®‰å…¨è¿æ¥å’Œéº¦å…‹é£è®¿é—® | è‡ªé…ç½®HTTPSç¡®ä¿éº¦å…‹é£APIè®¿é—® |
| æ€§èƒ½ç›‘æ§ | Performance API | Native | å‰ç«¯æ€§èƒ½æŒ‡æ ‡ | åŸç”Ÿæµè§ˆå™¨APIï¼Œè½»é‡çº§æ€§èƒ½ç›‘æ§ |

## æ•°æ®æ¨¡å‹

### VoiceComparisonSession - è¯­éŸ³å¯¹æ¯”ä¼šè¯

**ç›®çš„:** è¡¨ç¤ºä¸€æ¬¡å®Œæ•´çš„è¯­éŸ³å¯¹æ¯”æµ‹è¯•ä¼šè¯ï¼ŒåŒ…å«é…ç½®ã€çŠ¶æ€å’Œç»“æœæ•°æ®

**ä¸»è¦å±æ€§:**
- sessionId: string - å”¯ä¸€ä¼šè¯æ ‡è¯†ç¬¦
- startTime: Date - ä¼šè¯å¼€å§‹æ—¶é—´
- endTime: Date | null - ä¼šè¯ç»“æŸæ—¶é—´
- deepgramResults: TranscriptionResult[] - Deepgramè½¬å½•ç»“æœæ•°ç»„
- assemblyaiResults: TranscriptionResult[] - AssemblyAIè½¬å½•ç»“æœæ•°ç»„
- metrics: SessionMetrics - ä¼šè¯æ€§èƒ½æŒ‡æ ‡

#### TypeScriptæ¥å£
```typescript
interface VoiceComparisonSession {
  sessionId: string;
  startTime: Date;
  endTime: Date | null;
  deepgramResults: TranscriptionResult[];
  assemblyaiResults: TranscriptionResult[];
  metrics: SessionMetrics;
}
```

### TranscriptionResult - è½¬å½•ç»“æœ

**ç›®çš„:** å­˜å‚¨å•ä¸ªAPIçš„å®æ—¶è½¬å½•ç»“æœï¼ŒåŒ…å«æ–‡æœ¬ã€æ—¶é—´æˆ³å’Œå…ƒæ•°æ®

**ä¸»è¦å±æ€§:**
- provider: ApiProvider - APIæä¾›å•†ï¼ˆDeepgramæˆ–AssemblyAIï¼‰
- text: string - è½¬å½•æ–‡æœ¬å†…å®¹
- confidence: number - ç½®ä¿¡åº¦åˆ†æ•°
- isFinal: boolean - æ˜¯å¦ä¸ºæœ€ç»ˆç»“æœ
- timestamp: Date - æ¥æ”¶æ—¶é—´æˆ³
- latency: number - å“åº”å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰

#### TypeScriptæ¥å£
```typescript
interface TranscriptionResult {
  provider: ApiProvider;
  text: string;
  confidence: number;
  isFinal: boolean;
  timestamp: Date;
  latency: number;
}
```

## APIè§„æ ¼è¯´æ˜

### Deepgramå®æ—¶è½¬å½•SDKé›†æˆ

**è¿æ¥æ–¹å¼**: ä½¿ç”¨Deepgram JavaScript SDKï¼ŒSDKå†…éƒ¨ç®¡ç†WebSocketè¿æ¥

**æ ¸å¿ƒAPIæ–¹æ³•**:
```typescript
// å®¢æˆ·ç«¯åˆå§‹åŒ–
const deepgramClient = deepgram.createClient(DEEPGRAM_API_KEY);

// å»ºç«‹å®æ—¶è¿æ¥
const connection = deepgramClient.listen.live({
  model: "nova-2",
  language: "en",
  smart_format: true,
  sample_rate: 48000
});

// äº‹ä»¶ç›‘å¬
connection.on(deepgram.LiveTranscriptionEvents.Transcript, (data) => {
  const transcript = data.channel.alternatives[0].transcript;
  // å¤„ç†è½¬å½•ç»“æœ
});

// å‘é€éŸ³é¢‘æ•°æ®
connection.send(audioBlob);
```

### AssemblyAIå®æ—¶è½¬å½•SDKé›†æˆ

**è¿æ¥æ–¹å¼**: ä½¿ç”¨AssemblyAI Node SDKçš„StreamingTranscriberï¼Œéœ€è¦ä¸´æ—¶ä»¤ç‰Œè®¤è¯

**å®¢æˆ·ç«¯å®ç°**:
```typescript
// è·å–ä¸´æ—¶ä»¤ç‰Œ
async function getAssemblyAIToken() {
  const response = await fetch('https://api.assemblyai.com/v2/realtime/token', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${ASSEMBLYAI_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ expires_in: 3600 })
  });
  const data = await response.json();
  return data.token;
}

// åˆå§‹åŒ–æµè½¬å½•å™¨
const token = await getAssemblyAIToken();
const rt = new StreamingTranscriber({
  token: token,
  sampleRate: 48000
});

// äº‹ä»¶ç›‘å¬
rt.on("turn", ({ transcript }) => {
  // å¤„ç†è½¬å½•ç»“æœ
});
```

## ç»„ä»¶æ¶æ„

### AudioCaptureManager - éŸ³é¢‘æ•è·ç®¡ç†å™¨

**èŒè´£:** ç®¡ç†æµè§ˆå™¨éŸ³é¢‘æ•è·ã€æƒé™è¯·æ±‚å’ŒéŸ³é¢‘æµå¤„ç†

**å…³é”®æ¥å£:**
- `initialize()` - åˆå§‹åŒ–éŸ³é¢‘æ•è·è®¾å¤‡
- `startCapture()` - å¼€å§‹éŸ³é¢‘å½•åˆ¶
- `stopCapture()` - åœæ­¢éŸ³é¢‘å½•åˆ¶
- `onAudioData(callback)` - æ³¨å†ŒéŸ³é¢‘æ•°æ®å›è°ƒ

**æŠ€æœ¯æ ˆ:** åŸç”ŸWeb Audio API, MediaRecorder APIï¼Œæ”¯æŒWebM/Opusç¼–ç 

### DeepgramConnector - Deepgram APIè¿æ¥å™¨

**èŒè´£:** ç®¡ç†ä¸Deepgramå®æ—¶è½¬å½•æœåŠ¡çš„è¿æ¥å’Œé€šä¿¡

**å…³é”®æ¥å£:**
- `connect(apiKey, options)` - å»ºç«‹WebSocketè¿æ¥
- `sendAudio(audioBlob)` - å‘é€éŸ³é¢‘æ•°æ®
- `onTranscript(callback)` - è½¬å½•ç»“æœå›è°ƒ
- `disconnect()` - æ–­å¼€è¿æ¥

**æŠ€æœ¯æ ˆ:** Deepgram JavaScript SDK v5.xï¼Œè‡ªåŠ¨WebSocketç®¡ç†

### AssemblyAIConnector - AssemblyAI APIè¿æ¥å™¨

**èŒè´£:** ç®¡ç†ä¸AssemblyAIå®æ—¶è½¬å½•æœåŠ¡çš„è¿æ¥ï¼ŒåŒ…æ‹¬ä»¤ç‰Œç®¡ç†

**å…³é”®æ¥å£:**
- `connect(token, options)` - å»ºç«‹æµè½¬å½•è¿æ¥
- `sendAudio(audioBuffer)` - å‘é€éŸ³é¢‘æ•°æ®
- `refreshToken()` - åˆ·æ–°ä¸´æ—¶ä»¤ç‰Œ
- `disconnect()` - æ–­å¼€è¿æ¥

**æŠ€æœ¯æ ˆ:** AssemblyAI Node SDKæœ€æ–°ç‰ˆï¼ŒStreamingTranscriberç±»

### PerformanceTracker - æ€§èƒ½è¿½è¸ªå™¨

**èŒè´£:** æµ‹é‡å’Œè®¡ç®—å®æ—¶è½¬å½•çš„æ€§èƒ½æŒ‡æ ‡

**å…³é”®æ¥å£:**
- `startMeasurement(provider, audioId)` - å¼€å§‹æ€§èƒ½æµ‹é‡
- `recordTranscript(audioId, transcript, timestamp)` - è®°å½•è½¬å½•ç»“æœ
- `getLatencyStats(provider)` - è·å–å»¶è¿Ÿç»Ÿè®¡

**æŠ€æœ¯æ ˆ:** Performance API, é«˜ç²¾åº¦æ—¶é—´æˆ³

## å¤–éƒ¨APIé›†æˆ

### Deepgram API

- **ç›®çš„:** å®æ—¶è¯­éŸ³è½¬æ–‡å­—è½¬å½•æœåŠ¡
- **æ–‡æ¡£:** https://developers.deepgram.com/docs
- **åŸºç¡€URL:** wss://api.deepgram.com/v1/listen
- **è®¤è¯:** APIå¯†é’¥è®¤è¯
- **é€Ÿç‡é™åˆ¶:** åŸºäºè®¢é˜…è®¡åˆ’

**é›†æˆè¯´æ˜:** ä½¿ç”¨å®˜æ–¹@deepgram/sdkå¤„ç†æ‰€æœ‰WebSocketé€šä¿¡ï¼Œæ”¯æŒç›´æ¥å‘é€éŸ³é¢‘Blobæ•°æ®

### AssemblyAI API

- **ç›®çš„:** å®æ—¶è¯­éŸ³è½¬æ–‡å­—è½¬å½•æœåŠ¡
- **æ–‡æ¡£:** https://www.assemblyai.com/docs
- **åŸºç¡€URL:** wss://api.assemblyai.com/v2/realtime/ws
- **è®¤è¯:** ä¸´æ—¶ä»¤ç‰Œè®¤è¯
- **é€Ÿç‡é™åˆ¶:** åŸºäºè®¢é˜…è®¡åˆ’

**é›†æˆè¯´æ˜:** ä½¿ç”¨å®˜æ–¹assemblyai SDKï¼Œéœ€è¦ArrayBufferæ ¼å¼éŸ³é¢‘æ•°æ®ï¼Œä¸´æ—¶ä»¤ç‰Œæœºåˆ¶å¢å¼ºå®‰å…¨æ€§

## æ ¸å¿ƒå·¥ä½œæµç¨‹

### åº”ç”¨åˆå§‹åŒ–å’Œè¿æ¥å»ºç«‹

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant App as åº”ç”¨
    participant DG as Deepgram
    participant AI as AssemblyAI

    User->>App: è®¿é—®åº”ç”¨
    App->>App: åˆå§‹åŒ–é…ç½®
    App->>DG: å»ºç«‹è¿æ¥
    App->>AI: è·å–ä»¤ç‰Œå¹¶è¿æ¥
    App->>User: æ˜¾ç¤ºå‡†å¤‡å°±ç»ª
```

### éŸ³é¢‘å½•åˆ¶å’Œå®æ—¶è½¬å½•

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant App as åº”ç”¨
    participant DG as Deepgram
    participant AI as AssemblyAI

    User->>App: å¼€å§‹å½•éŸ³
    App->>App: æ•è·éŸ³é¢‘
    
    loop å®æ—¶å¤„ç†
        App->>DG: å‘é€éŸ³é¢‘æ•°æ®
        App->>AI: å‘é€éŸ³é¢‘æ•°æ®
        DG-->>App: è¿”å›è½¬å½•ç»“æœ
        AI-->>App: è¿”å›è½¬å½•ç»“æœ
        App->>App: æ›´æ–°ç•Œé¢å’ŒæŒ‡æ ‡
    end
```

## æ•°æ®åº“æ¶æ„

é‡‡ç”¨**æ— æ•°æ®åº“æ¶æ„** - æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨localStorageä¸­ï¼š

```typescript
interface LocalStorageSchema {
  currentSession: {
    sessionId: string;
    startTime: string;
    deepgramResults: string[];
    assemblyaiResults: string[];
    deepgramLatencies: number[];
    assemblyaiLatencies: number[];
  } | null;
  
  userConfig: {
    deepgramApiKey: string;
    assemblyaiApiKey: string;
    sampleRate: number;
  };
}
```

## å‰ç«¯æ¶æ„

### ç»„ä»¶æ¶æ„

#### ç»„ä»¶ç»„ç»‡
```
src/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ styles.css          # å…¨éƒ¨æ ·å¼
â”œâ”€â”€ app.js              # ä¸»åº”ç”¨é€»è¾‘
â””â”€â”€ README.md           # éƒ¨ç½²è¯´æ˜
```

#### ç»„ä»¶æ¨¡æ¿
```typescript
class VoiceComparison {
  constructor() {
    this.deepgramConnected = false;
    this.assemblyaiConnected = false;
    this.isRecording = false;
  }
  
  async init() {
    await this.connectAPIs();
    this.setupEventListeners();
  }
}
```

### çŠ¶æ€ç®¡ç†æ¶æ„

```typescript
const AppState = {
  connections: {
    deepgram: 'disconnected',
    assemblyai: 'disconnected'
  },
  recording: {
    isActive: false,
    startTime: null
  },
  transcripts: {
    deepgram: [],
    assemblyai: []
  },
  metrics: {
    deepgramLatencies: [],
    assemblyaiLatencies: []
  }
};
```

## åç«¯æ¶æ„

### æœåŠ¡æ¶æ„

é‡‡ç”¨**çº¯å‰ç«¯æ¶æ„** - æ— åç«¯æœåŠ¡å™¨ï¼š

```
éƒ¨ç½²ç»“æ„:
server/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ styles.css          # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ app.js              # ä¸»åº”ç”¨é€»è¾‘
â””â”€â”€ README.md           # éƒ¨ç½²è¯´æ˜
```

### APIå¯†é’¥ç®¡ç†

```javascript
// åœ¨app.jsä¸­ç›´æ¥é…ç½®
const CONFIG = {
  DEEPGRAM_API_KEY: 'your_deepgram_api_key_here',
  ASSEMBLYAI_API_KEY: 'your_assemblyai_api_key_here'
};
```

## ç»Ÿä¸€é¡¹ç›®ç»“æ„

```
ai-voice-compare/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ styles.css          # æ ·å¼æ–‡ä»¶  
â”œâ”€â”€ app.js              # ä¸»åº”ç”¨é€»è¾‘
â””â”€â”€ README.md           # éƒ¨ç½²è¯´æ˜
```

## å¼€å‘å·¥ä½œæµç¨‹

### æœ¬åœ°å¼€å‘è®¾ç½®

#### å‰ç½®è¦æ±‚
```bash
# æ— éœ€å®‰è£…ä»»ä½•ä¾èµ–
# åªéœ€è¦ç°ä»£æµè§ˆå™¨å’Œæ–‡æœ¬ç¼–è¾‘å™¨
```

#### åˆå§‹è®¾ç½®
```bash
# 1. ç¼–è¾‘app.jsä¸­çš„APIå¯†é’¥
# 2. ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨æµ‹è¯•(å¯é€‰)
python -m http.server 8000
# æˆ–ç›´æ¥æ‰“å¼€index.html
```

### ç¯å¢ƒé…ç½®

```javascript
// åœ¨app.jsæ–‡ä»¶å¼€å¤´ç›´æ¥è®¾ç½®
const DEEPGRAM_API_KEY = 'your_key_here';
const ASSEMBLYAI_API_KEY = 'your_key_here';
```

## éƒ¨ç½²æ¶æ„

### éƒ¨ç½²ç­–ç•¥

**å‰ç«¯éƒ¨ç½²:**
- **å¹³å°:** ç›´æ¥IPæœåŠ¡å™¨
- **æ„å»ºå‘½ä»¤:** æ— éœ€æ„å»º
- **è¾“å‡ºç›®å½•:** ç›´æ¥ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶

### ç¯å¢ƒ

| ç¯å¢ƒ | å‰ç«¯URL | ç”¨é€” |
|------|---------|------|
| ç”Ÿäº§ç¯å¢ƒ | http://your-ip/ai-voice-compare/ | ç›´æ¥ä½¿ç”¨ |

## å®‰å…¨å’Œæ€§èƒ½

### å®‰å…¨è¦æ±‚

**å‰ç«¯å®‰å…¨:**
- APIå¯†é’¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼ˆå†…éƒ¨ä½¿ç”¨å¯æ¥å—ï¼‰
- é€šè¿‡IPè®¿é—®é™åˆ¶

### æ€§èƒ½ä¼˜åŒ–

**å‰ç«¯æ€§èƒ½:**
- æ–‡ä»¶å¤§å°ç›®æ ‡: <100KBæ€»å¤§å°
- åŠ è½½ç­–ç•¥: åŒæ­¥åŠ è½½æ‰€æœ‰èµ„æº
- ç¼“å­˜ç­–ç•¥: æµè§ˆå™¨é»˜è®¤ç¼“å­˜

## æµ‹è¯•ç­–ç•¥

### æµ‹è¯•ç»„ç»‡

```
æ‰‹åŠ¨æµ‹è¯•:
1. æ‰“å¼€é¡µé¢
2. è¾“å…¥APIå¯†é’¥ï¼ˆå¦‚æœéœ€è¦ï¼‰
3. ç‚¹å‡»å¼€å§‹å½•éŸ³
4. è¯´è¯æµ‹è¯•
5. æŸ¥çœ‹ç»“æœå¯¹æ¯”
```

## ç¼–ç æ ‡å‡†

### å…³é”®è§„åˆ™

- **ç›´æ¥å®ç°:** æ‰€æœ‰åŠŸèƒ½åœ¨app.jsä¸­å®ç°
- **æ— ä¾èµ–:** ä¸ä½¿ç”¨ä»»ä½•å¤–éƒ¨åº“ï¼ˆé™¤äº†API SDKï¼‰
- **å†…è”é…ç½®:** APIå¯†é’¥ç›´æ¥å†™åœ¨ä»£ç ä¸­

## é”™è¯¯å¤„ç†ç­–ç•¥

### ç»Ÿä¸€é”™è¯¯å¤„ç†

```typescript
class APIErrorHandler {
  static handleDeepgramError(error) {
    if (error.code === 4001) {
      return "Deepgram APIå¯†é’¥æ— æ•ˆ";
    }
    return "Deepgramè¿æ¥é”™è¯¯";
  }
  
  static handleAssemblyAIError(error) {
    if (error.message.includes('token')) {
      return "AssemblyAIä»¤ç‰Œæ— æ•ˆæˆ–å·²è¿‡æœŸ";
    }
    return "AssemblyAIæœåŠ¡é”™è¯¯";
  }
}
```

## ç›‘æ§å’Œå¯è§‚æµ‹æ€§

### ç›‘æ§æ ˆ

- **å‰ç«¯ç›‘æ§:** Performance APIåŸç”ŸæŒ‡æ ‡
- **é”™è¯¯è¿½è¸ª:** Console.logè°ƒè¯•ä¿¡æ¯
- **æ€§èƒ½ç›‘æ§:** å»¶è¿Ÿå’Œè¿æ¥çŠ¶æ€å®æ—¶æ˜¾ç¤º

### å…³é”®æŒ‡æ ‡

**å‰ç«¯æŒ‡æ ‡:**
- APIå“åº”å»¶è¿Ÿ
- è½¬å½•å‡†ç¡®æ€§å¯¹æ¯”
- è¿æ¥ç¨³å®šæ€§
- éŸ³é¢‘è´¨é‡

---

*æœ¬æ¶æ„æ–‡æ¡£åŸºäºPRD v1.0å’ŒUXè®¾è®¡ï¼Œä¸“ä¸ºç®€å•æµ‹è¯•éœ€æ±‚ä¼˜åŒ–*